(()=>{"use strict";var t={d:(n,e)=>{for(var a in e)t.o(e,a)&&!t.o(n,a)&&Object.defineProperty(n,a,{enumerable:!0,get:e[a]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n)};t.d({},{n:()=>r});var n=["♠","♣","♥","♦"],e=["A","6","7","8","9","10","J","Q","K"];const a=function(){function t(t){void 0===t&&(t=n.flatMap((function(t){return e.map((function(n){return new c(t,n)}))}))),this.cards=[],this.cards=t}return Object.defineProperty(t.prototype,"numberOfCards",{get:function(){return this.cards.length},enumerable:!1,configurable:!0}),t.prototype.shuffle=function(){for(var t=this.numberOfCards-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),e=this.cards[n];this.cards[n]=this.cards[t],this.cards[t]=e}},t}();var c=function(t,n){this.suit=t,this.value=n},s=function(t){for(var n=t.flatMap((function(t){return[t,t]})),e=0;e<n.length-1;e++){var a=e+Math.floor(Math.random()*(n.length-e)),c=n[a];n[a]=n[e],n[e]=c}return n},i=function(t){var n={"♠":"spades.svg","♣":"clubs.svg","♥":"hearts.svg","♦":"diamonds.svg"},e=document.querySelector(".game-section-start__container"),c=document.querySelector(".game-section-cards__container");c.style.opacity="1",e.style.display="none";var l=function(t){var n=new a;switch(n.shuffle(),t){case"1":return s(n.cards.slice(0,3));case"2":return s(n.cards.slice(0,6));case"3":return s(n.cards.slice(0,9))}}(t).map((function(t){return"\n      \n      <div data-value=".concat(t.value," data-suit=").concat(t.suit,' class="game-table__card" >\n     \n          <div class="card__face" style="background: url(./static/images/').concat(n[t.suit],') center center no-repeat, rgb(255, 255, 255);">\n         \n              <div class="card__top">    \n                  <div class="card__value">').concat(t.value,'\n                  </div>\n                  <img class="card__suit" src="./static/images/').concat(n[t.suit],'" alt="suit">\n              </div>\n              <div class="card__bottom">    \n                  <div class="card__value">').concat(t.value,'\n                  </div>\n                  <img class="card__suit" src="./static/images/').concat(n[t.suit],'" alt="suit">\n              </div>   \n          </div>\n          <div class="card__back"></div>    \n    </div>     \n      ')})).join("");c.innerHTML='\n    <div class="main__game_content">\n        <div id="timer">\n            <div class="timer__text">\n                <span class=\'timer__text_item\'>min</span> <span class=\'timer__text_item\'>sek</span>\n            </div>\n            <p class=\'timer\'>00.00</p>\n        </div>\n        <button class="main__game_content_button">Начать заново</button>\n    </div>\n        <div class="main__game_cardsBox">\n        '.concat(l,"\n        </div> "),document.querySelector(".main__game_content_button").addEventListener("click",(function(){i(t)}));var o=document.querySelector(".timer"),u=5;o.textContent="00.05";var d=setInterval((function(){0==--u?(clearInterval(d),function(){for(var t=0,n=document.querySelectorAll(".card__back");t<n.length;t++)n[t].style.display="flex"}(),function(){u=0,o.textContent="00.00",window.timeGame=setInterval((function(){u++;var t=("00"+Math.floor(u/60)).slice(-2),n=("00"+u%60).slice(-2);o.textContent="".concat(t,".").concat(n)}),1e3),setTimeout(clearInterval,6e5,window.timeGame);var t=null,n=null,e=!0,a=!1,c=document.querySelectorAll(".game-table__card");c.forEach((function(s,i){s.addEventListener("click",(function(){if(e&&!s.classList.contains("successfully")&&(s.querySelector(".card__back").classList.remove("card__back"),null===t?t=i:i!==t&&(n=i,e=!1),null!==t&&null!==n&&"number"==typeof t&&"number"==typeof n&&t!==n))if(c[t].dataset.suit===c[n].dataset.suit&&c[t].dataset.value===c[n].dataset.value){c[t].classList.add("successfully"),c[n].classList.add("successfully"),t=null,n=null,e=!0;var r=Array.from(c).filter((function(t){return t.classList.contains("successfully")}));c.length===r.length&&m(a=!0)}else m(a)}))}))}()):o.innerHTML="00.0".concat(u)}),1e3);function m(t){clearInterval(window.timeGame),e.style.display="block";var n=o.textContent;c.style.opacity="0.3",e.classList.add("popup"),e.innerHTML='<div class="game-section-start__container">\n           <div class=imagemodul>\n            <img class="timer_result-img" src="./static/images/'.concat(t?'winner.png" alt="win"':'loser.png" alt="lose"','  >\n            </div>\n            \n            <h2 class="game-menu_result-title">').concat(t?"Вы выиграли":"Вы проиграли","</h2>\n            <p class=\"game-menu__subTitle\">Затраченное время</h2>\n            <p class='timer_result'>").concat(n,'</p>\n            <button class="game-menu__start-btn">Играть снова</button>\n            </div>'),document.querySelector(".game-menu__start-btn").addEventListener("click",(function(){r()}))}},r=function(){!function(){document.querySelector(".game-section-start__container").innerHTML='<div class="game-section-start__container">\n        <div class=namemodul>\n        <h2 class="game-menu__title">Выбери сложность</h2>\n        </div>\n        <div class="levelnumbers">\n        <button class="game-menu__difficult-btn">1</button>\n        <button class="game-menu__difficult-btn">2</button>\n        <button class="game-menu__difficult-btn">3</button>\n        </div>\n        <button class="game-menu__start-btn">Старт</button>\n    </div>';var t=document.querySelectorAll(".game-menu__difficult-btn");t.forEach((function(n){return n.addEventListener("click",(function(){t.forEach((function(t){return t.classList.remove("game-menu__difficult-btn_checked")})),n.classList.add("game-menu__difficult-btn_checked"),document.querySelector(".game-menu__start-btn").addEventListener("click",(function(){i(n.textContent)}))}))}))}()};r()})();